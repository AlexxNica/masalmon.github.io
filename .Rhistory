View(elements %>%
mutate(symbol = case_when(
.$atomic.number == 113 ~ "Nh",
.$atomic.number == 115 ~ "Mc",
.$atomic.number == 117 ~ "Ts",
.$atomic.number %in% c(113, 115, 117)~ .$symbol
)))
head(elements$symbol)
names(elements)
tibble::tibble(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c(284, 288, 294, 294))
head(elements$atomic.mass)
class(elements$atomic.mass)
readr::read_csv2("data/Elements.csv")
readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
readr::read_csv2("source_/data/2017-02-03-chemist_Elements.csv")
readr::read_csv2("_source/data/2017-02-03-chemist_Elements.csv")
damien <- readr::read_csv2("_source/data/2017-02-03-chemist_Elements.csv")
```
unique(elements$place)
# Chunk 1
library("rbokeh")
library("dplyr")
library("stringr")
data(elements)
knitr::kable(head(elements))
# Chunk 2
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
# Chunk 3
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
# Chunk 4
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
# Chunk 5
places <- unique(elements$place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "place")
# Chunk 6
elements <- mutate(elements, symx = paste0(group, ":0.1"))
elements <- mutate(elements, numbery = paste(period, ":0.8", sep = ""))
elements <- mutate(elements, massy = paste(period, ":0.15", sep = ""))
elements <- mutate(elements, namey = paste(period, ":0.3", sep = ""))
# Chunk 7
# See you create a table like this and add a serious title
p <- figure(title = "Periodic Table of Damien Cornu's experience", tools = c("resize", "hover"),
ylim = as.character(c(7:1)), xlim = as.character(1:18),
xgrid = FALSE, ygrid = FALSE, xlab = "", ylab = "",
height = 445, width = 800) %>%
# Here the rectangles are created,
# without experience rectangles get a while fill
ly_crect(group, period, data = elements, 0.9, 0.9,
fill_color = color,
line_color = "grey", fill_alpha = 0.6,
hover = list(name, desc, place)) %>%
# add symbol text
ly_text(symx, period, text = symbol, data = elements,
font_style = "bold", font_size = "10pt",
align = "left", baseline = "middle") %>%
# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
font_size = "6pt", align = "left", baseline = "middle") %>%
# add name text
ly_text(symx, namey, text = name, data = elements,
font_size = "4pt", align = "left", baseline = "middle") %>%
# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
font_size = "4pt", align = "left", baseline = "middle")
p
unique(elements$place)
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
names(elements)
# Chunk 1
library("rbokeh")
library("dplyr")
library("stringr")
data(elements)
knitr::kable(head(elements))
# Chunk 2
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
# Chunk 3
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
# Chunk 4
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
# Chunk 5
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "Place")
# Chunk 6
elements <- mutate(elements, symx = paste0(group, ":0.1"))
elements <- mutate(elements, numbery = paste(period, ":0.8", sep = ""))
elements <- mutate(elements, massy = paste(period, ":0.15", sep = ""))
elements <- mutate(elements, namey = paste(period, ":0.3", sep = ""))
# Chunk 7
# See you create a table like this and add a serious title
p <- figure(title = "Periodic Table of Damien Cornu's experience", tools = c("resize", "hover"),
ylim = as.character(c(7:1)), xlim = as.character(1:18),
xgrid = FALSE, ygrid = FALSE, xlab = "", ylab = "",
height = 445, width = 800) %>%
# Here the rectangles are created,
# without experience rectangles get a while fill
ly_crect(group, period, data = elements, 0.9, 0.9,
fill_color = color,
line_color = "grey", fill_alpha = 0.6,
hover = list(name, desc, Place)) %>%
# add symbol text
ly_text(symx, period, text = symbol, data = elements,
font_style = "bold", font_size = "10pt",
align = "left", baseline = "middle") %>%
# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
font_size = "6pt", align = "left", baseline = "middle") %>%
# add name text
ly_text(symx, namey, text = name, data = elements,
font_size = "4pt", align = "left", baseline = "middle") %>%
# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
font_size = "4pt", align = "left", baseline = "middle")
# Chunk 8
saveWidget(p, file="damien.html")
htmlwidgets::saveWidget(p, file="damien.html")
p
# See you create a table like this and add a serious title
p <- figure(title = "Periodic Table of Damien Cornu's experience", tools = c("resize", "hover"),
ylim = as.character(c(7:1)), xlim = as.character(1:18),
xgrid = FALSE, ygrid = FALSE, xlab = "", ylab = "",
height = 445, width = 800) %>%
# Here the rectangles are created,
# without experience rectangles get a while fill
ly_crect(group, period, data = elements, 0.9, 0.9,
fill_color = color,
line_color = "grey", fill_alpha = 0.6,
hover = list(name, desc, Place)) %>%
# add symbol text
ly_text(symx, period, text = symbol, data = elements,
font_style = "bold", font_size = "10pt",
align = "left", baseline = "middle") %>%
# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
font_size = "6pt", align = "left", baseline = "middle") %>%
# add name text
ly_text(symx, namey, text = name, data = elements,
font_size = "4pt", align = "left", baseline = "middle") %>%
# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
font_size = "4pt", align = "left", baseline = "middle")
# add atomic mass text
p
rm(list=ls())
library("rbokeh")
library("dplyr")
library("stringr")
data(elements)
knitr::kable(head(elements))
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
damien <- readr::read_csv2("_source/data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "Place")
unique(elements$group)
unique(elements$period)
library("rbokeh")
library("dplyr")
library("stringr")
data(elements)
knitr::kable(head(elements))
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"),
group = c("13", "15", "17", "18"),
period = rep("7", 4))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "Place")
elements <- mutate(elements, symx = paste0(group, ":0.1"))
elements <- mutate(elements, numbery = paste(period, ":0.8", sep = ""))
elements <- mutate(elements, massy = paste(period, ":0.15", sep = ""))
elements <- mutate(elements, namey = paste(period, ":0.3", sep = ""))
# See you create a table like this and add a serious title
p <- figure(title = "Periodic Table of Damien Cornu's experience", tools = c("resize", "hover"),
ylim = as.character(c(7:1)), xlim = as.character(1:18),
xgrid = FALSE, ygrid = FALSE, xlab = "", ylab = "",
height = 445, width = 800) %>%
# Here the rectangles are created,
# without experience rectangles get a while fill
ly_crect(group, period, data = elements, 0.9, 0.9,
fill_color = color,
line_color = "grey", fill_alpha = 0.6,
hover = list(name, desc, Place)) %>%
# add symbol text
ly_text(symx, period, text = symbol, data = elements,
font_style = "bold", font_size = "10pt",
align = "left", baseline = "middle") %>%
# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
font_size = "6pt", align = "left", baseline = "middle") %>%
# add name text
ly_text(symx, namey, text = name, data = elements,
font_size = "4pt", align = "left", baseline = "middle") %>%
# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
font_size = "4pt", align = "left", baseline = "middle")
p
htmlwidgets::saveWidget(p, file="damien.html")
View(colors)
# Chunk 1
library("rbokeh")
library("dplyr")
library("stringr")
data(elements)
knitr::kable(head(elements))
# Chunk 2
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"),
group = c("13", "15", "17", "18"),
period = rep("7", 4))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
# Chunk 3
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
elements <- mutate(elements, Place = ifelse(is.na(Place), "", Place))
elements <- mutate(elements, Place = ifelse(is.na(desc), "", desc))
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
unique(elements$Place)
damien
View(damien)
# Chunk 1
library("rbokeh")
library("dplyr")
data(elements)
knitr::kable(head(elements))
# Chunk 2
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"),
group = c("13", "15", "17", "18"),
period = rep("7", 4))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
# Chunk 3
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
elements <- mutate(elements, Place = ifelse(is.na(Place), "", Place))
elements <- mutate(elements, desc = ifelse(is.na(desc), "", desc))
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "Place")
View(colors)
# Chunk 1
library("rbokeh")
library("dplyr")
data(elements)
knitr::kable(head(elements))
# Chunk 2
elements <- filter(elements, !atomic.number %in% c(113, 115, 117))
renamed_elements <- data.frame(atomic.number = c(113, 115, 117, 118),
symbol = c("Nh", "Mc", "Ts", "Og"),
name = c("Nihonium", "Moscovium", "Tennessine", "Oganesson"),
atomic.mass = c("[284]", "[288]", "[294]", "[294]"),
group = c("13", "15", "17", "18"),
period = rep("7", 4))
elements <- bind_rows(elements, renamed_elements)
knitr::kable(tail(elements))
# Chunk 3
damien <- readr::read_csv2("data/2017-02-03-chemist_Elements.csv")
knitr::kable(head(damien))
# Chunk 4
names(damien)[2] <- "desc"
elements <- left_join(elements, damien, by = c("symbol" = "Element"))
elements <- mutate(elements, Place = ifelse(is.na(Place), "", Place))
elements <- mutate(elements, desc = ifelse(is.na(desc), "", desc))
# Chunk 5
places <- unique(elements$Place)
colors <- c("#a6cee3", "#1f78b4", "#fdbf6f", "white", "#b2df8a", "#33a02c",
"#bbbb88", "#baa2a6", "#e08e79")
colors <- data.frame(Place = places, color = colors)
elements <- select(elements, - color)
elements <- left_join(elements, colors, by = "Place")
# Chunk 6
elements <- mutate(elements, symx = paste0(group, ":0.1"))
elements <- mutate(elements, numbery = paste(period, ":0.8", sep = ""))
elements <- mutate(elements, massy = paste(period, ":0.15", sep = ""))
elements <- mutate(elements, namey = paste(period, ":0.3", sep = ""))
# Chunk 7
# See you create a table like this and add a serious title
p <- figure(title = "Periodic Table of Damien Cornu's experience", tools = c("resize", "hover"),
ylim = as.character(c(7:1)), xlim = as.character(1:18),
xgrid = FALSE, ygrid = FALSE, xlab = "", ylab = "",
height = 445, width = 800) %>%
# Here the rectangles are created,
# without experience rectangles get a while fill
ly_crect(group, period, data = elements, 0.9, 0.9,
fill_color = color,
line_color = "grey", fill_alpha = 0.6,
hover = list(name, desc, Place)) %>%
# add symbol text
ly_text(symx, period, text = symbol, data = elements,
font_style = "bold", font_size = "10pt",
align = "left", baseline = "middle") %>%
# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
font_size = "6pt", align = "left", baseline = "middle") %>%
# add name text
ly_text(symx, namey, text = name, data = elements,
font_size = "4pt", align = "left", baseline = "middle") %>%
# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
font_size = "4pt", align = "left", baseline = "middle")
# Chunk 8
htmlwidgets::saveWidget(p, file="damien.html")
servr::jekyll()
servr::jekyll()
install.packages("webshot")
servr::jekyll()
?htmlwidgets::saveWidget
webshot::install_phantomjs()
?htmlwidgets::saveWidget
servr::jekyll()
servr::jekyll()
servr::jekyll()
servr::jekyll()
servr::jekyll()
load("data/2017-02-05-actuallivingscientists.RData")
load("_source/data/2017-02-05-actuallivingscientists.RData")
library("rcorpora")
corpora("animals/common")
devtools::install_github("hrbrmstr/pluralize")
library("pluralize")
animals <- tibble::tibble(animal_for_detect = corpora("animals/common")$animals)
animals <- mutate(animals, animal = animal_for_detect)
animals <- mutate(animals, animal_for_detect = pluralize(animal_for_detect)) %>%
bind_rows(animals)
library("dplyr")
library("pluralize")
animals <- tibble::tibble(animal_for_detect = corpora("animals/common")$animals)
animals <- mutate(animals, animal = animal_for_detect)
animals <- mutate(animals, animal_for_detect = pluralize(animal_for_detect)) %>%
bind_rows(animals)
View(animals)
load("_source/data/2017-02-05-actuallivingscientists.RData")
View(actual)
servr::jekyll()
servr::jekyll()
library("rcorpora")
corpora("animals/birds_north_america")
names(corpora("animals/birds_north_america"))
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE)
# Chunk 2
library("dplyr")
load("data/2017-02-05-actuallivingscientists.RData")
head(tibble::as_tibble(actual))
# Chunk 3
library("rcorpora")
head(corpora("animals/common")$animals)
# Chunk 4
library("tidytext")
actual <- tibble::as_tibble(actual)
tidy_tweets <- bind_rows(actual %>%
unnest_tokens(animal_for_detect, text),
actual %>%
unnest_tokens(animal_for_detect, text,
token = "ngrams", n = 2))
tidy_tweets <- select(tidy_tweets, animal_for_detect, everything())
head(tidy_tweets)
library("pluralize")
animals <- tibble::tibble(animal_for_detect = corpora("animals/birds_north_america")$birds)
animals <- mutate(animals, animal = animal_for_detect)
animals <- mutate(animals, animal_for_detect = pluralize(animal_for_detect)) %>%
bind_rows(animals)
animals
tibble::tibble(animal_for_detect = corpora("animals/birds_north_america")$birds)
names(corpora("animals/birds_north_america")$birds)
head(corpora("animals/birds_north_america")$birds$family)
head(corpora("animals/birds_north_america")$birds$members)
library("pluralize")
animals <- tibble::tibble(animal_for_detect = unlist(corpora("animals/birds_north_america")$birds$members))
animals <- mutate(animals, animal = animal_for_detect)
animals <- mutate(animals, animal_for_detect = pluralize(animal_for_detect)) %>%
bind_rows(animals)
animals
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE)
# Chunk 2
library("dplyr")
load("data/2017-02-05-actuallivingscientists.RData")
head(tibble::as_tibble(actual))
# Chunk 3
library("rcorpora")
head(corpora("animals/common")$animals)
# Chunk 4
library("tidytext")
actual <- tibble::as_tibble(actual)
tidy_tweets <- bind_rows(actual %>%
unnest_tokens(animal_for_detect, text),
actual %>%
unnest_tokens(animal_for_detect, text,
token = "ngrams", n = 2))
tidy_tweets <- select(tidy_tweets, animal_for_detect, everything())
head(tidy_tweets)
# Chunk 5
library("pluralize")
animals <- tibble::tibble(animal_for_detect = unlist(corpora("animals/birds_north_america")$birds$members))
animals <- mutate(animals, animal = animal_for_detect)
animals <- mutate(animals, animal_for_detect = pluralize(animal_for_detect)) %>%
bind_rows(animals)
animals
# Chunk 6
tidy_tweets <- inner_join(tidy_tweets, animals,
by = "animal_for_detect") %>%
distinct(status_id, animal, .keep_all = TRUE)
tidy_tweets <- select(tidy_tweets, animal_for_detect, animal, everything())
tidy_tweets
# Chunk 7
animal_counts <- tidy_tweets %>%
group_by(animal) %>%
summarise(n = n()) %>%
arrange(desc(n))
animal_counts
# Chunk 8
rabbit_tweets <- filter(tidy_tweets, animal == "rabbit")$status_id
filter(actual, status_id %in% rabbit_tweets)$text
# Chunk 9
turtle_tweets <- filter(tidy_tweets, animal == "turtle")$status_id
filter(actual, status_id %in% turtle_tweets)$text %>% head()
# Chunk 10
library("ggplot2")
library("viridis")
animal_counts <- animal_counts %>%
arrange(desc(n))
animal_counts <- mutate(animal_counts,
animal = factor(animal,
ordered = TRUE,
levels = unique(animal)))
ggplot(animal_counts) +
geom_bar(aes(animal, n, fill = animal), stat = "identity")+
scale_fill_viridis(discrete = TRUE, option = "plasma")+
theme(axis.text.x = element_text(angle = 45,
hjust = 1,
vjust = 1),
text = element_text(size=15),
legend.position = "none")
servr::jekyll()
servr::jekyll()
